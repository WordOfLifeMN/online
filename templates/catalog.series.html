{{/* HTML page that displays a list of series. Consists of a brief ministry introduction and a
list of the series for that ministry
    
Paramater map:
    .Series   Slice of series to display
    .Ministry CatalogMinistry
    .View     CatalogView
    .Order    string - sort order of this page: az, za, 09, 90
    .Date     NewDateToday
*/ -}}

{{template "catalog.pre-content.html" .}}

<h1>{{ .Ministry.Description }} Catalog</h1>

{{template "catalog.ministry-div.html" .Ministry}}

<div class="grid">
    {{/* Searching */}}
    <!-- Search Bar and Controls -->
    <div class="search-bar">
        <input type="search" id="searchInput" placeholder="Search...">
        <div style="white-space: nowrap; text-align: center; width: 100%;">
            <span id="resultsMessage" style="opacity: 0;">No results found</span>
        </div>
    </div>

    {{/* Sorting */}}
    <!-- Sorting Controls -->
    <div class="sort">
        <p>
            <select class="sortingSelect" onchange="javascript:location.href = this.value;">
                <option value="{{GetCatalogFileNameForSeriList .Ministry .View "az"}}" {{if eq .Order "az"}}selected{{end}}>Sort by Title</option>
                <option value="{{GetCatalogFileNameForSeriList .Ministry .View "09"}}" {{if eq .Order "09"}}selected{{end}}>Sort by Date - Oldest first</option>
                <option value="{{GetCatalogFileNameForSeriList .Ministry .View "90"}}" {{if eq .Order "90"}}selected{{end}}>Sort by Date - Recent first</option>
            </select>
            <br/>
        </p>
    </div>
</div>

<hr/>

{{/* Series */}}
<div class="series">
    {{- range .Series }} 
        {{template "catalog.seri-div.html" .}}
    {{- end }}
</div>

<script>
    {{template "catalog.search.js" .}}
</script>
{{template "catalog.post-content.html" .}}
